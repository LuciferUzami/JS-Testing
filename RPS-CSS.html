<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock Paper Scissors</title>
  <!-- CSS Style -->
  <style>
    body {
      background-color: black;
      color: white;
      font-family: Arial, Helvetica, sans-serif;
    }

    
  </style>
</head>
<body>
  <!-- Prefab version -->
  <p>
    Rock Paper Scissors
  </p>
  <!-- Play Buttons -->
   <!-- ROCK BUTTON -->
   <button onclick="
    const computerChoices = computerPick()
    winingResult(playerMove = 'Rock', computerChoices)">
    Rock
   </button>
   <!-- ROCK BUTTON -->

   <!-- PAPER BUTTON -->
   <button onclick="
    const computerChoice = computerPick()
    winingResult(playerMove = 'Paper', computerChoice)">
    Paper
   </button>
   <!-- PAPER BUTTON -->

   <!-- SCISSORS BUTTON -->
   <button onclick="
    const computerChoiceses = computerPick()
    winingResult(playerMove = 'Scissors', computerChoiceses)">
    Scissors
   </button>
   <!-- Scissor Button -->

   <!-- Result -->
    <p class="js-result"></p>
   <!-- Result -->

   <!-- Players Actions -->
    <p class="js-action"></p>
   <!-- Players Actions  -->

   <!-- Score Bord -->
    <p class="js-score-bord">
  
    </p>
   <!-- Score Bord -->

   <!-- Restart Score Button -->
    <button onclick="reSet()">
      Reset Score
    </button>
    <!-- Restart Score Button -->

    <!-- JS Script -->
    <script>
      // import GoTrue from 'gotrue-js';

      let scores = JSON.parse(localStorage.getItem("score")) || {
         wins: 0,
         losses: 0,
         ties: 0
      }

      // Update Score UI
      updateScore()

      
      function computerPick() {
        const randomNumberRock = Math.random();

    // Create a Variable

        if (randomNumberRock >= 0 && randomNumberRock < 1/3) {
          computerMove = 'rock';
        } 
        else if (randomNumberRock >= 1/3 && randomNumberRock < 2/3) {
          computerMove = 'paper'; 
        }
        else {
          computerMove = 'scissors';
        }

        return computerMove
      }

      // Wining result
      function winingResult(playerMove, computerChoice) {
        let result = '';

        // Determine the result based on playerMove and computerChoice
        if (playerMove === "Scissors") {
            if (computerChoice === 'scissors') {
                result = 'TIE🤝';
                scores.ties += 1;
            } else if (computerChoice === 'rock') {
                result = 'YOU LOSS😣';
                scores.losses += 1;
            } else if (computerChoice === 'paper') {
                result = 'YOU WIN😎';
                scores.wins += 1;
            }
        } else if (playerMove === "Paper") {
            if (computerChoice === 'paper') {
                result = 'TIE🤝';
                scores.ties += 1;
            } else if (computerChoice === 'scissors') {
                result = 'YOU LOSS😣';
                scores.losses += 1;
            } else if (computerChoice === 'rock') {
                result = 'YOU WIN😎';
                scores.wins += 1;
            }
        } else if (playerMove === "Rock") {
            if (computerChoice === 'rock') {
                result = 'TIE🤝';
                scores.ties += 1;
            } else if (computerChoice === 'paper') {
                result = 'YOU LOSS😣';
                scores.losses += 1;
            } else if (computerChoice === 'scissors') {
                result = 'YOU WIN😎';
                scores.wins += 1;
            }
        }

        // Ensure localStore() and updateScore() are defined and handle necessary actions
        localStore();
        updateScore();

        // Update the UI
        document.querySelector(".js-result").innerText = result;
        document.querySelector(".js-action").innerText = `You ${playerMove} - ${computerChoice} Computer`;
     }

      // Function for localstorage
      function localStore() {
        localStorage.setItem("score", JSON.stringify(scores))
      }

      // Score UI function
      function updateScore() {
        document.querySelector(".js-score-bord").innerText =  `Wins:${scores.wins}, Losses:${scores.losses}, Ties:${scores.ties}`
      }


      // Reset all scores reset to ZERO
      function reSet (){
        // Redefined Scores
        scores.wins = 0
        scores.losses = 0
        scores.ties = 0

        // Remove all the value in localStorage
        localStorage.removeItem("score")

        // Update the para
        updateScore()
      }
    </script>
</body>
</html>